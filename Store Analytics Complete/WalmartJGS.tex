\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Walmart Analytics},
            pdfauthor={John G Schwitz},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\providecommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{Walmart Analytics}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{John G Schwitz}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{October 13, 2017}


\begin{document}
\maketitle

\hypertarget{r-markdown}{%
\subsection{R Markdown}\label{r-markdown}}

This is an R Markdown document. Markdown is a simple formatting syntax
for authoring HTML, PDF, and MS Word documents. For more details on
using R Markdown see \url{http://rmarkdown.rstudio.com}.

When you click the \textbf{Knit} button a document will be generated
that includes both content as well as the output of any embedded R code
chunks within the document. You can embed an R code chunk like this:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Load Data into a DataFrame}
\KeywordTok{library}\NormalTok{(readr)}
\KeywordTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## -- Attaching packages ---------------------------------- tidyverse 1.2.1 --
\end{verbatim}

\begin{verbatim}
## v ggplot2 3.1.0       v purrr   0.3.2  
## v tibble  2.1.1       v dplyr   0.8.0.1
## v tidyr   0.8.3       v stringr 1.4.0  
## v ggplot2 3.1.0       v forcats 0.4.0
\end{verbatim}

\begin{verbatim}
## -- Conflicts ------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{## library(plyr) #KILLS dplyr}
\KeywordTok{library}\NormalTok{(dplyr)}
\KeywordTok{library}\NormalTok{(lubridate)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'lubridate'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:base':
## 
##     date
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# DateTime is stored as 13 digit integer}
\CommentTok{# This enables loading via Double}
\KeywordTok{options}\NormalTok{(}\DataTypeTok{digits=}\DecValTok{13}\NormalTok{)}
\KeywordTok{options}\NormalTok{(}\StringTok{"digits"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $digits
## [1] 13
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# 213,495 ROWS 10 VARIABLES}
\CommentTok{# INITIAL FILE}
\NormalTok{data_org <-}\StringTok{ }\KeywordTok{read_tsv}\NormalTok{(}\StringTok{"~/Apps/Walmart/4729-2038.tsv"}\NormalTok{,}\DataTypeTok{col_names=}\OtherTok{TRUE}\NormalTok{,}\DataTypeTok{trim_ws =} \OtherTok{TRUE}\NormalTok{,}\DataTypeTok{col_types =} 
                   \KeywordTok{list}\NormalTok{(}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_double}\NormalTok{(),}\KeywordTok{col_integer}\NormalTok{(),}\KeywordTok{col_integer}\NormalTok{(),}
                   \KeywordTok{col_integer}\NormalTok{(),}\KeywordTok{col_double}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{()))}
\KeywordTok{summary}\NormalTok{(data_org[}\OperatorTok{-}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{2}\NormalTok{)])  ## File spans Fri, July 21, 2017 8:48 PM to Sun, July 23, 2017 7:59 PM GMT - 4 DST}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    order_time             store_number           department         
##  Min.   :1500681613000   Min.   :2222.000000   Min.   : 1.00000000  
##  1st Qu.:1500744398000   1st Qu.:2222.000000   1st Qu.:20.00000000  
##  Median :1500768377000   Median :2222.000000   Median :76.00000000  
##  Mean   :1500781290150   Mean   :2413.096475   Mean   :58.02667978  
##  3rd Qu.:1500831888000   3rd Qu.:2222.000000   3rd Qu.:92.00000000  
##  Max.   :1500854397000   Max.   :3333.000000   Max.   :99.00000000  
##     register               amount                    upc           
##  Min.   : 2.00000000   Min.   :-40004.00000000   Length:213495     
##  1st Qu.: 9.00000000   1st Qu.:     1.67000000   Class :character  
##  Median :15.00000000   Median :     2.97000000   Mode  :character  
##  Mean   :22.81323216   Mean   :     5.60629359                     
##  3rd Qu.:25.00000000   3rd Qu.:     5.88000000                     
##  Max.   :98.00000000   Max.   : 40004.00000000                     
##      name           description       
##  Length:213495      Length:213495     
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
## 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# CHECK for DUPLICATED ROWS  # NO DUPLICATES}
\KeywordTok{anyDuplicated}\NormalTok{(data_org)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# FILE AFTER CLEANING Before Extracting Finance & Gas}
\CommentTok{# 213,475 ROWS}
\NormalTok{data <-}\StringTok{ }\KeywordTok{read_tsv}\NormalTok{(}\StringTok{"~/Apps/Walmart/data_clean.tsv"}\NormalTok{,}\DataTypeTok{col_names=}\OtherTok{TRUE}\NormalTok{,}\DataTypeTok{trim_ws =} \OtherTok{TRUE}\NormalTok{,}\DataTypeTok{col_types =} 
                   \KeywordTok{list}\NormalTok{(}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_double}\NormalTok{(),}\KeywordTok{col_integer}\NormalTok{(),}\KeywordTok{col_integer}\NormalTok{(),}
                   \KeywordTok{col_integer}\NormalTok{(),}\KeywordTok{col_double}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{(),}\KeywordTok{col_character}\NormalTok{()))}

\CommentTok{# VIEW DATA for Filtering and Anomalies}
\CommentTok{# View(data)  ## A data window}

\CommentTok{# ANALYSIS FOR ANOMOLIES & ELIMINATION}
\CommentTok{# Select amounts greater than 200 to examine}
\NormalTok{greater_}\DecValTok{200}\NormalTok{ <-}\StringTok{ }\KeywordTok{subset}\NormalTok{(data, amount }\OperatorTok{>=}\StringTok{ }\DecValTok{200}\NormalTok{)}
\CommentTok{# LIMIT Columns Displayed}
\NormalTok{greater_}\DecValTok{200}\NormalTok{_}\DecValTok{01}\NormalTok{ <-}\StringTok{ }\NormalTok{greater_}\DecValTok{200}\NormalTok{[}\KeywordTok{c}\NormalTok{(}\OperatorTok{-}\DecValTok{1}\NormalTok{,}\OperatorTok{-}\DecValTok{3}\NormalTok{,}\OperatorTok{-}\DecValTok{4}\NormalTok{,}\OperatorTok{-}\DecValTok{6}\NormalTok{,}\OperatorTok{-}\DecValTok{10}\NormalTok{)]}
\CommentTok{# View(greater_200_01)  ## Departments 86 & 99 are Financial Transactions}

\CommentTok{# Control Number of lines to pring}
\KeywordTok{options}\NormalTok{(}\DataTypeTok{dplyr.print_max =} \DecValTok{500}\NormalTok{)}
\KeywordTok{options}\NormalTok{(}\DataTypeTok{max.print=}\DecValTok{300}\NormalTok{)}
\NormalTok{tibble.print_max =}\StringTok{ }\DecValTok{500}

\CommentTok{# Discovered the following Financial Transactions}
\CommentTok{# Filter in finance file}
\NormalTok{finance <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data, (upc }\OperatorTok{==}\StringTok{ '0000000000040638437479'} \OperatorTok{|}\StringTok{ }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000605388122360'} \OperatorTok{|}
\StringTok{                           }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000605388122330'} \OperatorTok{|}\StringTok{ }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000605388190350'} \OperatorTok{|}
\StringTok{                           }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000605388963090'} \OperatorTok{|}\StringTok{ }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000605388122390'} \OperatorTok{|}
\StringTok{                           }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000079936640209'} \OperatorTok{|}\StringTok{ }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000060538802945'} \OperatorTok{|}
\StringTok{                           }\NormalTok{department }\OperatorTok{==}\StringTok{ }\DecValTok{86}
\NormalTok{                        ) )}
\CommentTok{# View(finance)  ## 582 entries}
\CommentTok{# upc_select <- subset(data, upc='0000000000605388122330')}

\CommentTok{# ELIMINATE FINANCE for separate analysis}
\CommentTok{# data_01 212,893 ROWS}
\NormalTok{data_}\DecValTok{01}\NormalTok{ <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data, (upc }\OperatorTok{!=}\StringTok{ '0000000000040638437479'} \OperatorTok{&}\StringTok{ }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000605388122360'} \OperatorTok{&}
\StringTok{                           }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000605388122330'} \OperatorTok{&}\StringTok{ }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000605388190350'} \OperatorTok{&}
\StringTok{                           }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000605388963090'} \OperatorTok{&}\StringTok{ }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000605388122390'} \OperatorTok{&}
\StringTok{                           }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000079936640209'} \OperatorTok{&}\StringTok{ }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000060538802945'} \OperatorTok{&}
\StringTok{                           }\NormalTok{department }\OperatorTok{!=}\StringTok{ }\DecValTok{86}
\NormalTok{) )}

\CommentTok{# Examine DISTRIBUTION OF DATA}
\KeywordTok{summary}\NormalTok{(data_}\DecValTok{01}\NormalTok{[}\OperatorTok{-}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{2}\NormalTok{)])  ## File spans Fri, July 21, 2017 8:00 PM to Sun, July 23, 2017 7:59 PM GMT - 4 DST}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    order_time             store_number          department         
##  Min.   :1500681613000   Min.   :2222.00000   Min.   : 1.00000000  
##  1st Qu.:1500744398000   1st Qu.:2222.00000   1st Qu.:20.00000000  
##  Median :1500768383000   Median :2222.00000   Median :76.00000000  
##  Mean   :1500781300020   Mean   :2413.27154   Mean   :57.95046338  
##  3rd Qu.:1500831888000   3rd Qu.:2222.00000   3rd Qu.:92.00000000  
##  Max.   :1500854368000   Max.   :3333.00000   Max.   :99.00000000  
##     register               amount                   upc           
##  Min.   : 2.00000000   Min.   :-174.000000000   Length:212893     
##  1st Qu.: 9.00000000   1st Qu.:   1.660000000   Class :character  
##  Median :15.00000000   Median :   2.970000000   Mode  :character  
##  Mean   :22.66936442   Mean   :   5.218476981                     
##  3rd Qu.:25.00000000   3rd Qu.:   5.870000000                     
##  Max.   :98.00000000   Max.   :1498.000000000                     
##      name           description       
##  Length:212893      Length:212893     
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
## 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# View(data_01)}

\CommentTok{# EXAMINE FLAG & ELIMINATE OUTLYERS}
\CommentTok{# -40004.00 & 40004.00 Scan correction 2222 Dept 33 Reg 15 7/22 10:32 PM +/- 40004.00}

\CommentTok{# Filter out Gas}
\CommentTok{# 2,868 ROWS}
\NormalTok{gasoline <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data_}\DecValTok{01}\NormalTok{, upc }\OperatorTok{==}\StringTok{ '0000000000658441000000'} \OperatorTok{|}\StringTok{ }\NormalTok{upc }\OperatorTok{==}\StringTok{ '0000000000658455000000'}\NormalTok{)}

\CommentTok{# ELIMINATE GASOLINE for separate analysis 0000000000658455000000}
\CommentTok{# 210,005 ROWS}
\NormalTok{data_}\DecValTok{02}\NormalTok{ <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data_}\DecValTok{01}\NormalTok{, upc }\OperatorTok{!=}\StringTok{ '0000000000658441000000'} \OperatorTok{&}\StringTok{ }\NormalTok{upc }\OperatorTok{!=}\StringTok{ '0000000000658455000000'}\NormalTok{)}

\CommentTok{# EXAMINE SCAN ERRORS -- LARGE NEGATIVES  # investigate UPC: 0000000006937419204870}
\NormalTok{returns_over_}\DecValTok{100}\NormalTok{ <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data_}\DecValTok{02}\NormalTok{, amount }\OperatorTok{<=}\StringTok{ }\FloatTok{-100.0}\NormalTok{)}

\CommentTok{# Examine suspicious returns}
\CommentTok{# View(filter(data_02, upc == '0000000006937419204870'))}

\CommentTok{# SEGMENT by Stores}
\CommentTok{# 2222 has 176,241 ROWS}
\CommentTok{# 3333 has 33,774 ROWS}
\NormalTok{s_}\DecValTok{2222}\NormalTok{ <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data_}\DecValTok{02}\NormalTok{, store_number }\OperatorTok{==}\StringTok{ }\DecValTok{2222}\NormalTok{)}
\NormalTok{s_}\DecValTok{3333}\NormalTok{ <-}\StringTok{ }\KeywordTok{filter}\NormalTok{(data_}\DecValTok{02}\NormalTok{, store_number }\OperatorTok{==}\StringTok{ }\DecValTok{3333}\NormalTok{)}

\CommentTok{# Convert from 13 integer POSIX to DateTime}
\NormalTok{ms_to_date =}\StringTok{ }\ControlFlowTok{function}\NormalTok{(ms, }\DataTypeTok{t0=}\StringTok{"1970-01-01"}\NormalTok{, timezone) \{}
\NormalTok{  ## @ms: a numeric vector of milliseconds (big integers of 13 digits)}
\NormalTok{  ## @t0: a string of the format "yyyy-mm-dd", specifying the date that}
\NormalTok{  ##      corresponds to 0 millisecond}
\NormalTok{  ## @timezone: a string specifying a timezone that can be recognized by R}
\NormalTok{  ## return: a POSIXct vector representing calendar dates and times        }
\NormalTok{  sec =}\StringTok{ }\NormalTok{ms }\OperatorTok{/}\StringTok{ }\DecValTok{1000}
  \KeywordTok{as.POSIXct}\NormalTok{(sec, }\DataTypeTok{origin=}\NormalTok{t0, }\DataTypeTok{tz=}\NormalTok{timezone)}
\NormalTok{\}}

\CommentTok{# CONVERT POSIX time and add day & time}
\NormalTok{store_}\DecValTok{2222}\NormalTok{ <-}\StringTok{ }\KeywordTok{mutate}\NormalTok{(s_}\DecValTok{2222}\NormalTok{,}\DataTypeTok{day=}\KeywordTok{day}\NormalTok{(}\KeywordTok{ms_to_date}\NormalTok{(order_time,}\DataTypeTok{timezone=}\StringTok{""}\NormalTok{)),}\DataTypeTok{hour=}\KeywordTok{hour}\NormalTok{(}\KeywordTok{ms_to_date}\NormalTok{(order_time,}\DataTypeTok{timezone=}\StringTok{""}\NormalTok{)))}
\NormalTok{store_}\DecValTok{3333}\NormalTok{ <-}\StringTok{ }\KeywordTok{mutate}\NormalTok{(s_}\DecValTok{3333}\NormalTok{,}\DataTypeTok{day=}\KeywordTok{day}\NormalTok{(}\KeywordTok{ms_to_date}\NormalTok{(order_time,}\DataTypeTok{timezone=}\StringTok{""}\NormalTok{)),}\DataTypeTok{hour=}\KeywordTok{hour}\NormalTok{(}\KeywordTok{ms_to_date}\NormalTok{(order_time,}\DataTypeTok{timezone=}\StringTok{""}\NormalTok{)))}

\CommentTok{# Do not display columns 1,4,6,8,10}
\CommentTok{# View(select(store_3333,order_id,department,amount,day,hour))}

\CommentTok{# MISSING DATA?  Examine by time}
\CommentTok{# Store 3333 has MISSING DATA}
\NormalTok{store_}\DecValTok{2222} \OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(day,hour) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{SpendbyHour=}\KeywordTok{sum}\NormalTok{(amount)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(day,hour)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 46 x 3
## # Groups:   day [3]
##      day  hour SpendbyHour
##    <int> <int>       <dbl>
##  1    21    20      25912.
##  2    21    21      20708.
##  3    21    22      18971.
##  4    21    23      11370.
##  5    22     0       9050.
##  6    22     1       2415.
##  7    22     2        924.
##  8    22     3        648.
##  9    22     4        385.
## 10    22     5        975.
## 11    22     6       1856.
## 12    22     8      10544.
## 13    22    10      21835.
## 14    22    11      27617.
## 15    22    12      31468.
## 16    22    13      29577.
## 17    22    14      33147.
## 18    22    15      28162.
## 19    22    16      31362.
## 20    22    17      27783.
## 21    22    18      26570.
## 22    22    19      22957.
## 23    22    20      19870.
## 24    22    21      15921.
## 25    22    22      13255.
## 26    22    23       8036.
## 27    23     0       4963.
## 28    23     1       2564.
## 29    23     2        977.
## 30    23     3        700.
## 31    23     4        367.
## 32    23     5        792.
## 33    23     6        818.
## 34    23     7       5054.
## 35    23     8       7541.
## 36    23     9      15278.
## 37    23    10      21028.
## 38    23    11      26745.
## 39    23    12      27635.
## 40    23    13      33632.
## 41    23    14      31290.
## 42    23    15      33200.
## 43    23    16      34492.
## 44    23    17      28515.
## 45    23    18      26325.
## 46    23    19      22825.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{store_}\DecValTok{3333} \OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(day,hour) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{SpendbyHour=}\KeywordTok{sum}\NormalTok{(amount)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(day,hour)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 27 x 3
## # Groups:   day [3]
##      day  hour SpendbyHour
##    <int> <int>       <dbl>
##  1    21    20     7628.  
##  2    21    21      106.  
##  3    22     5        2.91
##  4    22     8     6325.  
##  5    22    10    13350.  
##  6    22    11    20217.  
##  7    22    12    22402.  
##  8    22    13    19525.  
##  9    22    14    19042.  
## 10    22    15    16762.  
## 11    22    16    17429.  
## 12    22    17    15427.  
## 13    22    18    14879.  
## 14    22    19     8554.  
## 15    22    20     7529.  
## 16    22    21      179.  
## 17    23     6       45.9 
## 18    23    10    11488.  
## 19    23    11    18653.  
## 20    23    12    19400.  
## 21    23    13    17879.  
## 22    23    14    21759.  
## 23    23    15    20387.  
## 24    23    16    16651.  
## 25    23    17    17981.  
## 26    23    18     5081.  
## 27    23    19      244.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Store to Store Comparison Spending by Day}
\NormalTok{store_}\DecValTok{2222} \OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(day) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{SpendbyHour=}\KeywordTok{sum}\NormalTok{(amount)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(day)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 3 x 2
##     day SpendbyHour
##   <int>       <dbl>
## 1    21      76961.
## 2    22     364356.
## 3    23     324740.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{store_}\DecValTok{3333} \OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(day) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{SpendbyHour=}\KeywordTok{sum}\NormalTok{(amount)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(day)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 3 x 2
##     day SpendbyHour
##   <int>       <dbl>
## 1    21       7734.
## 2    22     181623.
## 3    23     149569.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# dplyr::summarise(by_order,sum(amount) )}
\NormalTok{store_}\DecValTok{3333} \OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(order_id) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{items=}\KeywordTok{n}\NormalTok{(), }\DataTypeTok{basket=}\KeywordTok{sum}\NormalTok{(amount)}\OperatorTok{/}\NormalTok{items) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(}\KeywordTok{desc}\NormalTok{(basket))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 4,561 x 3
##    order_id              items basket
##    <chr>                 <int>  <dbl>
##  1 613310228166486171558     1   778 
##  2 715431801330260347926     1   500.
##  3 503310425152486148538     1   400.
##  4 981114965216895289149     2   350.
##  5 303350924199482184548     1   330.
##  6 551154569216892299159     2   314.
##  7 686877295822514855401     1   299 
##  8 212086187411750427035     1   289 
##  9 684958977682935681213     1   270.
## 10 389441403390269319986     1   270.
## # ... with 4,551 more rows
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# ITEMS > $100}
\NormalTok{store_}\DecValTok{2222} \OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(amount }\OperatorTok{>=}\StringTok{ }\FloatTok{100.0}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(order_id,department,amount,name) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(}\KeywordTok{desc}\NormalTok{(amount))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 190 x 4
##     order_id               department amount name        
##     <chr>                       <int>  <dbl> <chr>       
##   1 7548467798821314609859         72  1498  SAM UHD TV  
##   2 946769956760105853705          38  1167. RX# 7332999 
##   3 774016286415959298468          72   898  SAM UHD TV  
##   4 971104567207797072286          72   698  60 VIZIO 4K 
##   5 086877092890314611869          72   559  HP 15-CD040 
##   6 86787192873319699899           38   544. RX# 7317882 
##   7 62206382405959277478           38   532. RX# 7335865 
##   8 533390429127685388152          72   429  IPAD        
##   9 08079752791103895725           38   408. RX# 7342888 
##  10 15330827106682322122           38   403. RX# 7341885 
##  11 889665736934028712983          72   399  IPAD MINI 4 
##  12 858625939962020773993          72   399  HP 17 A10   
##  13 486847197821314699829          72   398  ROKU 55 4K  
##  14 363292440057879104034          72   398  ROKU 55 4K  
##  15 92306981469958288488           38   378. RX# 7342951 
##  16 503320823151686373122          72   378  43 LED TV   
##  17 000086489484959236488          72   378  48 LED HDTV 
##  18 62206382405959277478           38   373. RX# 7335869 
##  19 15330827106682322122           38   366. RX# 7342284 
##  20 9135719574241910581            38   339. RX# 7342912 
##  21 919573413584242961541          72   328  50 1080P TV 
##  22 43614262257796062266           38   325. RX# 7342726 
##  23 7014303384460503300            38   320. RX# 7342971 
##  24 140252444002878189024          72   318  40 LED HDTV 
##  25 747605636934026742983          72   299  HP LAPTOP   
##  26 212016181483957295408           5   299  PS4 1TB SL  
##  27 335300527127685348172           5   299  PS4 1TB SL  
##  28 565421302371462502350          72   298  PHILIPS 40  
##  29 010134264214790034226          10   280. 6.2 AM/FM   
##  30 244948771671538423667           5   279  PS4 COD     
##  31 201184662239791096236          72   279  HP CHROMEBO 
##  32 175340321198685382192          72   279  HP 15 CEL   
##  33 247729655779103832735          72   278  VIZIO 43HDTV
##  34 061282449049873127054          71   269  FARM TVSTAND
##  35 624998978603534417677          72   268  43 INCH SHA 
##  36 012154869284799043246          72   268  43 INCH SHA 
##  37 866779857709104881725          72   268  43 INCH SHA 
##  38 957533714535248925581          72   268  43 INCH SHA 
##  39 91806084439958284488           38   263. RX# 2233429 
##  40 021292942075874140054          79   250  TRAVEL SYSTE
##  41 193370522111685342132          74   249  BI PH REV PT
##  42 343390329121680340182           7   249  700C M SCH  
##  43 908615734934020722993           5   249  XB1 HDWR    
##  44 32206883469958288438           38   248. RX# 7301501 
##  45 737563819543244922531          74   239  SHARK VAC   
##  46 672928876603535417687          72   228  39 LED HDTV 
##  47 787719854752109810795          72   219  TAB E 9.6   
##  48 816789752752107800715          72   219  HP 14-AX030 
##  49 846887892858314622879           9   209  14FT COMBO  
##  50 252154966224795095286           9   198  20 X10 TENT 
##  51 309461904332468557310          72   198  32 LED HDTV 
##  52 71322545028876164054           38   194. RX# 2233481 
##  53 622978476603539447687          72   190. APPLE IPOD  
##  54 797709052736108886755          74   189  BIS PH 2X R 
##  55 768769754700104870705           9   188  SHOTGUN     
##  56 060184365254791067206          11   188  45PT DEHUM  
##  57 737749459766104883785          11   188  DEHUMIDIFIER
##  58 494026584436954219498          11   188  DEHUMIDIFIER
##  59 486928874676536498657          16   187  2N1 LW RDR  
##  60 220282941054873176064          72   179  11.6 TABLET 
##  61 507605930970028729913           7   179  26M MONGOOSE
##  62 011232744092871136044          71   179  BUNK BED WN 
##  63 595300021198689382132          71   179  BUNK BED WN 
##  64 240134760224792005276          72   179  AC CHROME   
##  65 557605436934020742903          72   178  NETG AC1750 
##  66 589523017581245990561          72   178  MOTO AC1900 
##  67 588615335925029710963          74   178  NAV LIFT AWA
##  68 558625136989023777963          16   174  HEDGETRIMMER
##  69 587625331965028751913          79   169  DOUBLE SIT N
##  70 759411201381461572300          14   169  10PC SET HA 
##  71 777685438911023730903          49   168  RX FRAME    
##  72 754827690873318649889          38   167. RX# 7342777 
##  73 432066981469958228438          38   160  RX# 7340582 
##  74 558625136989023777963          16   160. HEDGETRIMMER
##  75 385563718516247984521          87   159  IPHNSE32GRY 
##  76 191310624101685362122          17   159  AREA RUG    
##  77 557615030975027725913          79   159  GRACO SOLANO
##  78 567615834945020730983          79   159  TRAVELSYSTEM
##  79 023340329151684343132           9   159  INST CANOPY 
##  80 411194865264793066266          14   159  MICROWAVE   
##  81 44487894841319695829           38   158. RX# 7303433 
##  82 450154866284796022296          74   158. HVR UPRIGHT 
##  83 754827690873318649889          38   156. RX# 7342775 
##  84 492948679668538464697          82   150  DEBIT LOAD  
##  85 492948679668538464697          82   150  DEBIT LOAD  
##  86 967709750773100864795          10   150. BATT-H7     
##  87 335543111555246991501          14   149  VEGGIEBULLET
##  88 768709752729102881775           7   149  700 C L ADMR
##  89 250114068254793067276           7   149  700C PATHWAY
##  90 083390829121687380142           7   149  24 G SCH SI 
##  91 165300522180685366102          72   149  CHARGE 3    
##  92 169471308308469526360          87   149  ST Z936VL   
##  93 345401901301467527380           7   149  24 G SCH SI 
##  94 714817194887319630869           7   149  27.5 M GEN  
##  95 519411006323467547370           7   149  24 G SCH SI 
##  96 918615532989020747983           7   149  700 M PTHWAY
##  97 926719656759104884785          79   149  FP ELPH SWNG
##  98 155350529110683317142          74   149  SHARK NAVIGA
##  99 203252949049873167074          87   149  FITBITALTAHR
## 100 347543719563249940591           7   149  MENS BIKE   
## 101 19341808308463516310           87   149  FITBITALTAHR
## 102 585513314535246925521          72   148  32 TCL ROKU 
## 103 976749857740101815725          72   148  32 TCL ROKU 
## 104 706759257777106845765          72   148  32 TCL ROKU 
## 105 442194363265796089276          10   148. DUAL DVD    
## 106 401134162239791096256          10   148. DUAL DVD    
## 107 660016686485954290418          16   147  GAS GRILL   
## 108 203292040057875134054          72   145  APPLE IPOD  
## 109 786847891885314616869          82   140  DEBIT LOAD  
## 110 708807292885311647889          79   139  TRAVSYSTM   
## 111 557605533935023786963          79   139  GR TRX NYC  
## 112 652998270667531433687          74   139  SHARK STM   
## 113 253232140057879164064           6   139  INST CAMERA 
## 114 597523114551245934591          71   139  EXEC CHAIR  
## 115 189461505381460582390          79   139  GR TRX NYC  
## 116 547685336989020797943          72   138  24 LED SMT  
## 117 025350221198686312172          72   138  24 LED SMT  
## 118 15330827106682322122           38   138. RX# 8819422 
## 119 892998271671539403627          72   134  BEATS HP    
## 120 494948372699537415637          49   130  COOPER CLENS
## 121 494948372699537415637          49   130  COOPER CLENS
## 122 091252746067873153014           9   129  13X13 CANOPY
## 123 717759751749101813775           9   129  13X13 CANOPY
## 124 507675239993028722943           7   129  MENS BICYCLE
## 125 806817798839311663849           7   129  20 B REBEL  
## 126 319543211563246900561          72   129  HIGHQ TABLE 
## 127 716827194889311651889           7   129  MENS BICYCLE
## 128 319593313553240986501          72   129  BT SPEAKER  
## 129 519411006323467547370           7   129  700C SPINFIT
## 130 918615532989020747983           7   129  700C M HYPER
## 131 063222240025871134094          71   129  MATTRESS TWN
## 132 577573814575244919501          79   129  TRIUMPHFLYNN
## 133 737563819543244922531          71   129  MATTRESS TWN
## 134 13230929106682352112           38   129. RX# 7342666 
## 135 736827596898310687889          72   128  LG SOUNDBAR 
## 136 345573314573248937561          72   128  LED HDTV    
## 137 212006980477958289408          49   128  RX FRAME    
## 138 578685730939026745923          74   128  3.1C.F. 2 DR
## 139 185481001331469558380          72   125  RCA 10.1    
## 140 377593115584241981551          72   125  RCA 10.1    
## 141 261232946052878106064          16   124  HT PUSHMOWER
## 142 597523216505247968531          72   124  HP OJ 8702  
## 143 390194569228797013216          10   122  AUTO TIRES  
## 144 390194569228797013216          10   122  AUTO TIRES  
## 145 390194569228797013216          10   122  AUTO TIRES  
## 146 390194569228797013216          10   122  AUTO TIRES  
## 147 460104163247792036256          38   119. RX# 7342881 
## 148 692066182405954267478          38   119. RX# 2233464 
## 149 726887292807314673809           7   119  27.5MPARKSID
## 150 672026982484959286498           7   119  27.5MPARKSID
## 151 033330724130689350162          71   119  CHAIROTTOMAN
## 152 776887891807314673809          16   119  40V COMBO   
## 153 948635636922021772973           7   119  27.5MPARKSID
## 154 387523314515240923521          72   119  PARTY SPKR  
## 155 129431005367469513360          74   119  4.3 C.F. 1DR
## 156 718749154752102890755          72   118  ELEMENT 21. 
## 157 718749154752102890755          72   118  ELEMENT 21. 
## 158 212006980477958289408          49   118  RX FRAME    
## 159 400124963247796046276          38   114. RX# 7342769 
## 160 587695832945028700933          14   114  MICROWAVE   
## 161 816877290897318609829           9   114  INST CANOPY 
## 162 045310827121685360122           9   114  INST CANOPY 
## 163 26687194855319693899           49   112  RX FRAME    
## 164 491114366269791081216          11   112  5K MECH AC  
## 165 031232441075878100024          11   112  5K MECH AC  
## 166 031232441075878100024          11   112  5K MECH AC  
## 167 518675637903024780983          10   110. AM/FM CD RE 
## 168 569563714550244958581          10   109  AUTO TIRES  
## 169 569563714550244958581          10   109  AUTO TIRES  
## 170 654036384436950259478          71   109  TBLSET      
## 171 579543914550241928531          10   108  AUTO TIRES  
## 172 579543914550241928531          10   108  AUTO TIRES  
## 173 492026786460957273448          10   108  PIO A5702   
## 174 349533118515242973581           3   108  84PLCE      
## 175 958625730991023756913          10   108  AUTO TIRES  
## 176 958625730991023756913          10   108  AUTO TIRES  
## 177 724887693885311662809          10   107. BATT-51R    
## 178 155411203367461563300          82   105. MC 100 DOTS 
## 179 33922443037877116074           38   104. RX# 7342982 
## 180 213242443037877156004          38   103. RX# 7330904 
## 181 97365330991023736933           99   100  W B         
## 182 602086986415958288488           5   100  ITUNES 100  
## 183 370124869228796013226          10   100  LT265/70R17/
## 184 370124869228796013226          10   100  LT265/70R17/
## 185 370124869228796013226          10   100  LT265/70R17/
## 186 370124869228796013226          10   100  LT265/70R17/
## 187 6278392898310677869            99   100  WALMART GEN 
## 188 105461005331469518380          82   100  TMOBILE 100 
## 189 88579551773105854755           99   100  W B         
## 190 936759852752105850755           5   100  XBOXGC 100
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{store_}\DecValTok{3333} \OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(amount }\OperatorTok{>=}\StringTok{ }\FloatTok{100.0}\NormalTok{) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(order_id,department,amount,name) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(}\KeywordTok{desc}\NormalTok{(amount))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 171 x 4
##     order_id                 department amount name        
##     <chr>                         <int>  <dbl> <chr>       
##   1 613310228166486171558             5   778  55UHDSMARTCU
##   2 90106183415758458055             74   712. IPHONE 7    
##   3 720086584448757451085            60   599  OAKBRIDGEQN 
##   4 551154569216892299159            60   591  ICOMFQN     
##   5 715431801330260347926            17   500. RECLINE SOFA
##   6 677605436983122902822            16   499  GRILL       
##   7 503310425152486148538            16   400. EVENT GRILL 
##   8 981114965216895289149            10   400. BLACK MAX 3 
##   9 426847093899516873411            17   399  CONVERT SOFA
##  10 456867692817510859441            20   398  IPAD        
##  11 40414064289896268139             27   395. RX# 6732532 
##  12 755431104320269358946            60   389  WYNSTONEFU  
##  13 605300426142485147508            60   389  WYNSTONEFU  
##  14 160016288468756469055            16   350. SMOKEHOLLOW 
##  15 978799759730305753640            27   349. RX# 6736330 
##  16 303350924199482184548            66   330. PERIDOT PEND
##  17 111252143034678096367            16   300. PACCN120E   
##  18 523212246064672029357            15   300. ROOMBA 665  
##  19 981114965216895289149            11   300. MEGA STORAGE
##  20 686877295822514855401            67   299  DIA BAND    
##  21 584938070627938633293             5   299. SHARP 40 TV 
##  22 584938070627938633293             5   299. SHARP 40 TV 
##  23 212086187411750427035            66   289  LAB SAPP NCK
##  24 40414064289896268139             27   285. RX# 6736373 
##  25 604877093877511856451             6   279  SAMSUNG 8X4 
##  26 466817994849513855491            60   270. BRINDALEFULL
##  27 684958977682935681213            60   270. BRINDALEFULL
##  28 389441403390269319986             7   270. TRAMPOLINE  
##  29 63422449052674040347             99   265. SAM'S CELEB 
##  30 63422449052674040347             99   263. SAM'S CELEB 
##  31 63422449052674040347             99   263. SAM'S CELEB 
##  32 395461209390269372996             6   259  NIKON B500  
##  33 81522142067675026307             27   256. RX# 6734206 
##  34 454036381499758494005             9   250. Stand Up Pad
##  35 605300426142485147508            17   249  94X120 - LA 
##  36 765451108344268313906            16   230. Masterbuilt 
##  37 806779650765300770640            20   217  BEATS       
##  38 663292645033675010367            50   214. 235/60R18   
##  39 663292645033675010367            50   214. 235/60R18   
##  40 663292645033675010367            50   214. 235/60R18   
##  41 663292645033675010367            50   214. 235/60R18   
##  42 061262349057674084397             5   200. VIZIO50SMART
##  43 006827697849513804411            60   200. BRINDALETW  
##  44 050184169286896295109            60   200. BRINDALETW  
##  45 482056385478753493065            16   200. WAGON       
##  46 595310628166487141538            11   200. Seville Clas
##  47 200104367266893207129            64   200. ION PA PRO  
##  48 599401408390262392986            64   200. ION PA PRO  
##  49 997523518576049508744            64   200. ION PA PRO  
##  50 466719555785309788640            32   200. LZB B&T SPR 
##  51 736857897851510825401            27   197. RX# 2218511 
##  52 731174665211892282109            50   194. 235/45R18   
##  53 731174665211892282109            50   194. 235/45R18   
##  54 731174665211892282109            50   194. 235/45R18   
##  55 731174665211892282109            50   194. 235/45R18   
##  56 200164662216895221159             5   190. VIZIO 32 1  
##  57 395390421152484125518             5   190. VIZIO 32 1  
##  58 682076489468759484035            61   185. GARMIN 60LMT
##  59 250056883400754474015            92   180. DURACL 31DTM
##  60 250056883400754474015            92   175. DURACL 31AGM
##  61 826817094844517815491            29   170. OJ PRO 8715 
##  62 697593415570041522754            88   166  NL 1.67 NIKN
##  63 697593415570041522754            88   166  NL 1.67 NIKN
##  64 437593116577047555764            50   159. 225/45R18XL 
##  65 437593116577047555764            50   159. 225/45R18XL 
##  66 437593116577047555764            50   159. 225/45R18XL 
##  67 437593116577047555764            50   159. 225/45R18XL 
##  68 856739057763305751600            88   158. NL NIKON PF 
##  69 856739057763305751600            88   158. NL NIKON PF 
##  70 90106183415758458055             71   150  VZN         
##  71 937615434900122999872            21   150. Serta 4 Pil 
##  72 113390425180488182538            11   150. 4 LEVEL RACK
##  73 682928575697937651293            16   150. WINDOW AIR  
##  74 646759950765304730610            15   150. SHARK NV95  
##  75 874934438372622936659293         61   150. 1350 BACKUP 
##  76 498779354766309777680            50   150. 235/70R16   
##  77 498779354766309777680            50   150. 235/70R16   
##  78 498779354766309777680            50   150. 235/70R16   
##  79 163340928120486190528            64   149  IONOUTBACK  
##  80 650016587411750477055            66   149  GOLD NECK   
##  81 724827890849513835401            20   148  BEATS       
##  82 460134365239895236119            31   146. HP 15.6 NB  
##  83 142938871622937616233            50   145. 235/65R16   
##  84 142938871622937616233            50   145. 235/65R16   
##  85 142938871622937616233            50   145. 235/65R16   
##  86 142938871622937616233            50   145. 235/65R16   
##  87 9094571901390269399926           69   145. DISNEY      
##  88 9094571901390269399926           69   145. DISNEY      
##  89 9094571901390269399926           69   145. DISNEY      
##  90 9094571901390269399926           69   145. DISNEY      
##  91 9094571901390269399926           69   145. DISNEY      
##  92 9094571901390269399926           69   145. DISNEY      
##  93 9094571901390269399926           69   145. DISNEY      
##  94 9094571901390269399926           69   145. DISNEY      
##  95 9094571901390269399926           69   145. DISNEY      
##  96 9094571901390269399926           69   145. DISNEY      
##  97 9094571901390269399926           69   145. DISNEY      
##  98 9094571901390269399926           69   145. DISNEY      
##  99 9094571901390269399926           69   145. DISNEY      
## 100 9094571901390269399926           69   145. DISNEY      
## 101 9094571901390269399926           69   145. DISNEY      
## 102 9094571901390269399926           69   145. DISNEY      
## 103 9094571901390269399926           69   145. DISNEY      
## 104 9094571901390269399926           69   145. DISNEY      
## 105 9094571901390269399926           69   145. DISNEY      
## 106 9094571901390269399926           69   145. DISNEY      
## 107 9094571901390269399926           69   145. DISNEY      
## 108 9094571901390269399926           69   145. DISNEY      
## 109 9094571901390269399926           69   145. DISNEY      
## 110 9094571901390269399926           69   145. DISNEY      
## 111 9094571901390269399926           69   145. DISNEY      
## 112 9094571901390269399926           69   145. DISNEY      
## 113 9094571901390269399926           69   145. DISNEY      
## 114 9094571901390269399926           69   145. DISNEY      
## 115 119481207371266393906            69   145. DISNEY      
## 116 319573318576045578724            64   140. MONSTER RR 3
## 117 968719454765301783610             2   140. ORAL B 3000 
## 118 410036584448756411065            15   140. 1.6MICROWAVE
## 119 053262940036678088317            88   139  OPTICALFRAME
## 120 775300227155481191588            50   131. 235/60R17   
## 121 775300227155481191588            50   131. 235/60R17   
## 122 775300227155481191588            50   131. 235/60R17   
## 123 775300227155481191588            50   131. 235/60R17   
## 124 987749357765309793680            15   130. 5.1 CU FT C 
## 125 327563315571048527764            15   130. 5.1 CU FT C 
## 126 327563315571048527764            15   130. 5.1 CU FT C 
## 127 724867798849513814411            68   130. SAMSONITE   
## 128 832918971627938629293            10   130. BLACK MAX 1 
## 129 588665939993123946892            60   130. BOXSPRINGQN 
## 130 720086584448757451085            60   130. BOXSPRINGQN 
## 131 519553714501042546724            61   130. AC3200 TRI-B
## 132 195451205390266382966            20   130. FITBITCHARGE
## 133 061232447088674050367            20   130. Fitbit Charg
## 134 466719555785309788640            32   130. COMM CHAIR  
## 135 602026187411750457035            66   129  925 SET     
## 136 467635036988121939822            50   129. 225/50R17   
## 137 467635036988121939822            50   129. 225/50R17   
## 138 467635036988121939822            50   129. 225/50R17   
## 139 467635036988121939822            50   129. 225/50R17   
## 140 567645136988127929842            50   128. 225/55R16   
## 141 466817994849513855491            60   128. BOXSPRINGFU 
## 142 605300426142485147508            60   128. BOXSPRINGFU 
## 143 070194460216894248119            36   121. R-134A 30LB 
## 144 866837392844516868411            50   121. 215/65R16   
## 145 866837392844516868411            50   121. 215/65R16   
## 146 577523116577047545784            50   120. P245/65R17  
## 147 577523116577047545784            50   120. P245/65R17  
## 148 997523518576049508744            64   120. MONSTER RR 3
## 149 778789354711307717620            12   120. Instant Gaze
## 150 201282248044672008337             7   120. JUMPNPLAY   
## 151 776719552766306727680            50   119. 215/55R17   
## 152 776719552766306727680            50   119. 215/55R17   
## 153 327533615570041512704            88   119  COACH FRAME 
## 154 286807592844517868481            50   118. 185/65R15   
## 155 286807592844517868481            50   118. 185/65R15   
## 156 286807592844517868481            50   118. 185/65R15   
## 157 286807592844517868481            50   118. 185/65R15   
## 158 568695231966123911852            68   115  MICHAEL KORS
## 159 270154763211891222119            50   110. 215/55R16   
## 160 270154763211891222119            50   110. 215/55R16   
## 161 938799355789301746620            16   110. WINDOW AIR  
## 162 329491007399269322956            16   110. CHLORINE    
## 163 727789254711309757680            12   110. Teak Porch R
## 164 529655434913124964862            64   109. MONSTER RR 3
## 165 872988871622934666263            92   106. DURACL 47   
## 166 481144665211894272169            92   105. DURACL 35   
## 167 577695334900125959802            92   104. Duracell Aut
## 168 165401407399263383946            92   102. DURACL 24F  
## 169 470076384407758449065            88   102  SV 1.67 NKTR
## 170 470076384407758449065            88   102  SV 1.67 NKTR
## 171 432164963211892282159            92   101. DURACL 34
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Department Summary}
\CommentTok{# Total Spending}
\NormalTok{store_}\DecValTok{2222} \OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{items=}\KeywordTok{n}\NormalTok{(), }\DataTypeTok{DeptTotal=}\KeywordTok{sum}\NormalTok{(amount)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(}\KeywordTok{desc}\NormalTok{(DeptTotal))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 1 x 2
##    items DeptTotal
##    <int>     <dbl>
## 1 176241   766056.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Spending by Department}
\NormalTok{store_}\DecValTok{2222} \OperatorTok{%>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(department) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{summarise}\NormalTok{(}\DataTypeTok{items=}\KeywordTok{n}\NormalTok{(), }\DataTypeTok{DeptTotal=}\KeywordTok{sum}\NormalTok{(amount)) }\OperatorTok{%>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(}\KeywordTok{desc}\NormalTok{(DeptTotal))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 66 x 3
##    department items DeptTotal
##         <int> <int>     <dbl>
##  1         92 22851  52265.  
##  2          2 11345  47309   
##  3         95 16856  44218.  
##  4         40  5524  35806.  
##  5         90 13294  34784.  
##  6         94 16851  33354.  
##  7         13  5497  24742.  
##  8         79  3050  23177.  
##  9         46  4175  22560.  
## 10         91  6722  22164.  
## 11         72   466  22079.  
## 12         10  1977  22043.  
## 13         23  2216  21592.  
## 14          9  2261  20986.  
## 15          7  1517  20038.  
## 16          4  4461  19893.  
## 17         74  2152  18446.  
## 18          3  8462  17848.  
## 19         93  3138  16687.  
## 20         14  2163  15069.  
## 21         82  4870  14294.  
## 22         34  1985  12747.  
## 23         96  1364  12716.  
## 24         38   395  12637.  
## 25          8  2660  11808.  
## 26         11  1425  11791.  
## 27          1  2981   9847.  
## 28         25   834   9784.  
## 29         22   782   9710.  
## 30         17  1132   9226.  
## 31         81  3944   8997.  
## 32         97  2744   8519.  
## 33         16  1084   8321.  
## 34          5   413   7661.  
## 35         80  1531   6445.  
## 36         20  1099   5962.  
## 37         87   355   5741.  
## 38         98  2268   5357.  
## 39         33   940   5190.  
## 40         26   996   5188.  
## 41         49   182   5021.  
## 42         71   169   4745.  
## 43         29   569   4677.  
## 44         24   700   4663.  
## 45         67  1553   3850.  
## 46         32   419   3712.  
## 47         31   388   3077.  
## 48         19   955   2969.  
## 49         30   341   2932.  
## 50         12   421   2022.  
## 51         37   375   1961.  
## 52         36   189   1801.  
## 53         21   235   1410.  
## 54         35   150   1277.  
## 55         99    43   1158.  
## 56         56   330   1147.  
## 57         27   182   1040.  
## 58          6    38    772.  
## 59         28    96    405.  
## 60         85    93    267.  
## 61         60    12     98   
## 62         18    17     23.2 
## 63         52     1     13.7 
## 64         15     1      5.97
## 65         39     1      2.99
## 66         83     1      1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Spending by Customer ID}
\NormalTok{tibble.print_max =}\StringTok{ }\OtherTok{Inf}
\CommentTok{# View(store_2222 %>% group_by(order_id) %>% summarise(items=n(), basket=sum(amount)/items) %>% arrange(desc(basket)))}
\CommentTok{# View(store_2222)}
\end{Highlighting}
\end{Shaded}

\hypertarget{including-plots}{%
\subsection{Including Plots}\label{including-plots}}

You can also embed plots, for example:

\includegraphics{WalmartJGS_files/figure-latex/pressure-1.pdf}

Note that the \texttt{echo\ =\ FALSE} parameter was added to the code
chunk to prevent printing of the R code that generated the plot.


\end{document}
